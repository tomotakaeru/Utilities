\usepackage{amsmath,amssymb} %数式
\usepackage{bm} %ベクトル表記
\usepackage{mathtools} %行列要素を右寄せにできる
\usepackage[dvipdfmx]{graphicx} %figure
\usepackage[dvipdfmx]{color} %文字色
\usepackage{listings,plistings} %ソースコード貼り付け
\usepackage[linesnumbered, tworuled]{algorithm2e} %疑似コード
% \usepackage{url} %URLリンク貼り付け
\usepackage[dvipdfmx, hidelinks]{hyperref} %ハイパーリンク
\usepackage{siunitx} %SI単位系
\usepackage{fancyhdr} %ヘッダ，フッタ
\usepackage[left=19.05mm, right=19.05mm, top=25.40mm, bottom=25.40mm]{geometry}
\usepackage{multicol} %一部段組
\usepackage{multirow} %表セル縦結合
\usepackage{lscape} %表を90°回転
\usepackage{here} %図を強制的に指定位置に置く
%
\newcommand{\diver}{\mathrm{div}\,}
\newcommand{\grad}{\mathrm{grad}\,}
\newcommand{\rot}{\mathrm{rot}\,}
\newcommand{\bhline}[1]{\noalign{\hrule height #1}} %表の横罫線の太さ変更\bhline{1.2pt}
\newlength\savedwidth
\newcommand{\bcline}[1]{\noalign{\global\savedwidth\arrayrulewidth\global\arrayrulewidth 1.2pt} \cline{#1}
\noalign{\global\arrayrulewidth\savedwidth}} %表の横罫線の太さ変更\bcline{1-3} %1.2pt固定
\newcommand{\bvline}[1]{\vrule width #1} %表の縦罫線の太さ変更
%
\renewcommand{\abstractname}{\Large Abstract} %概要の表記変更
\newcommand{\keywordsname}{\Large Keywords} %自分で定義したenvironment{keywords}の表記変更
\renewcommand{\contentsname}{Contents} %目次名変更
\setcounter{tocdepth}{3} %目次の階層深さをsubsubsectionにする
\setcounter{secnumdepth}{3} %見出しの番号付けをsubsubsectionまで行う
\renewcommand{\listfigurename}{List of Figures} %図目次名変更
\renewcommand{\listtablename}{List of Tables} %表目次名変更
\renewcommand{\figurename}{Fig.} %figureの表記変更
\renewcommand{\tablename}{Table.} %tableの表記変更
% \renewcommand{\thesubsection}{\arabic{subsection}.} %subsectionの表記変更
% \renewcommand{\thesubsubsection}{\arabic{subsection}.\arabic{subsubsection}} %subsubsectionの表記変更
\renewcommand{\labelitemi}{$\triangleright$} %itemの表記変更
% \renewcommand{\labelenumi}{\textcircled{\scriptsize \arabic{enumi}}} %enumerateの表記変更
\renewcommand{\refname}{References} %参考文献の表記変更
\renewcommand{\appendixname}{Appendix } %付録の表記変更
\renewcommand{\arraystretch}{1.1} %表の高さ変更
%
\def\seireki{\the\year/\ifnum\month<10 0\fi\the\month/\ifnum\day<10 0\fi\the\day} %日付を西暦表示 20xx/yy/zz
%
\makeatletter %数式番号にchapter番号追加
\@addtoreset{equation}{chapter}
\def\theequation{\thechapter.\arabic{equation}}
\makeatother
%
\pagestyle{fancy} %ヘッダ，フッタ
\renewcommand{\chaptermark}[1]{\markboth{第\ \thechapter\ 章\,\, #1}{}}
\makeatletter
\def\pagestylefront{
  \newpage
  \setcounter{page}{1}
  \pagenumbering{roman}
  \renewcommand{\headrulewidth}{0pt} %ヘッダ罫線
  \renewcommand{\footrulewidth}{0pt} %フッタ罫線
  \lhead{}
  \rhead{\thepage}
  \lfoot{}
  \cfoot{}
  \rfoot{}
}
\def\pagestylemain{
  \newpage
  \setcounter{page}{1}
  \pagenumbering{arabic}
  \renewcommand{\headrulewidth}{0.4pt} %ヘッダ罫線
  \renewcommand{\footrulewidth}{0pt} %フッタ罫線
  \lhead{\leftmark}
  \rhead{\thepage}
  \lfoot{}
  \cfoot{}
  \rfoot{}
}
\makeatother
%
% \makeatletter %chapterの１ページ目からfancyを適用する
% \renewcommand{\chapter}{%
%   \if@openright\cleardoublepage\else\clearpage\fi
%   \global\@topnum\z@
%   \secdef\@chapter\@schapter}
% \makeatother
%
\lstset{ %ソースコードの見た目設定
  basicstyle={\ttfamily},
  commentstyle={\small\color[rgb]{0.6,0.1,0.1}},
  keywordstyle={\bfseries\color[rgb]{0.4,0.8,0.4}},
  ndkeywordstyle={\small},
  stringstyle={\small\ttfamily},
  identifierstyle={\ttfamily\bfseries\color[rgb]{0.3,0.3,0.8}}, 
  numberstyle={\scriptsize},
  frame={tb},
  numbers=left,
  stepnumber=1,
  numbersep=1zw,
  xleftmargin=3zw,
  xrightmargin=0zw,
  lineskip=-0.5ex,
  columns=[l]{fullflexible},
  breaklines=true,
  keepspaces=true,
  showstringspaces=false
}
%
%\maketitleの変更（thesis）
\makeatletter
\def\thesis#1{\def\@thesis{#1}}
\def\id1#1{\def\@id1{#1}}
\def\department#1{\def\@department{#1}}
\def\teacher#1{\def\@teacher{#1}}
\renewcommand{\maketitle}{
  \begin{center}
  \vspace*{140truept}
  {\LARGE \@thesis \par} %論文名
  \vspace{5mm}
  {\huge \@title \par} %タイトル
  \vspace{95mm}
  {\Large \@department \par} %所属
  \vspace{3mm}
  {\Large \@author \par} %学籍番号&氏名
  \vspace{12mm}
  {\large \@date 提出 \par} %提出年月日
  \vspace{3mm}
  {\large 指導教員 \@teacher \par} %指導教員
  \end{center}
  % 表紙のページ数を非表示
  \thispagestyle{empty}
  \newpage
  \addtocounter{page}{-1}
}
\makeatother
%
%abstractでページ番号が表示されないため，自分で書いてみたら解決（多分newboxまわりのせいだった？）
\newenvironment{myabstract}{
  \begin{center}
    {\headfont \abstractname\vspace{-.5em}\vspace{0pt}}
  \end{center}
  \vspace{6mm}
  \list{}{
    \listparindent\parindent
    \itemindent \listparindent
    \rightmargin \leftmargin}
  \item\relax
  }{\endlist
}
%
%keywordsの環境
\newenvironment{mykeywords}{
  \begin{center}
    {\headfont \keywordsname\vspace{-.5em}\vspace{0pt}}
  \end{center}
  \vspace{6mm}
  \begin{center}
  }{\end{center}
}
